<!DOCTYPE html>
<meta charset="utf-8"/>
<title>deno_intro</title>
<style>

body { color: white; background: black; font-family: monospace; font-size: 3.5vh; height: 60vh; width: calc(100% - 40vh); margin: 20vh; overflow: hidden; }
svg { position: absolute; bottom: calc(-45 * .15vh); right: calc(-34 * .12vh); height: calc(45 * .7vh); width: calc(34 * .7vh); }
pre { margin: 0; white-space: pre-wrap; }
pre:not([data-visible]) { display: none; }
a {	color: dodgerblue; }

.color-palette { color: deeppink crimson coral gold khaki grey lightgreen springgreen lightskyblue dodgerblue darkslateblue; }

</style>

<pre>
Usage:

- Next slide: <span style="color: deeppink">▶</span>
- Previous slide: <span style="color: deeppink">◀</span>










<span style="color: grey"><i>// This presentation is best viewed in 1080p</i></span>
</pre>

<pre>
<span style="color: dodgerblue"># deno_intro</span>

> Agenda:

  <span style="color: grey;"><i>0.</i> Pronunciation</span>
  <span style="color: khaki;"><i>1.</i></span> Intro & History
  <span style="color: khaki;"><i>2.</i></span> Deep Dive & Features
  <span style="color: khaki;"><i>3.</i></span> Use-Cases
  <span style="color: khaki;"><i>4.</i></span> Ecosystem 
  <span style="color: khaki;"><i>5.</i></span> Open Source & Money

> Slides: <a href="https://marksweb.site/deno_intro">marksweb.site/deno_intro</a>
</pre>

<pre>
<span style="color: dodgerblue"># Pronunciation</span>

> Den-no?
</pre>

<pre>
<span style="color: dodgerblue"># Pronunciation</span>

<span style="color: crimson">- Den-no?</span>
<span style="color: springgreen">+ Dee-no!</span>
</pre>

<pre>
<span style="color: dodgerblue"># Intro & History</span>

Node is a runtime for:
<span style="color: crimson">- JavaScript</span>

Deno is a runtime for:
<span style="color: springgreen">+ JavaScript and TypeScript</span>

<span style="color: grey">// - WASM and WASI is supported, too.
// - Node-API is replaced with a FFI.</span>
</pre>

<pre>
<span style="color: dodgerblue"># Intro & History</span>

Node was created in:
<span style="color: crimson">- 2009 (<time datetime="2009"></time>)</span>

Deno was created in:
<span style="color: springgreen">- 2018 (<time datetime="2018"></time>)</span>

<span style="color: grey">// - Both were created by Ryan Dahl (<a href="https://github.com/ry">@ry</a>)
// - Ryan left Node in 2012 because it was "finished"</span>
</pre>

<pre>
<span style="color: dodgerblue"># Intro & History</span>

Node's initial goal:
<span style="color: springgreen">+ Fast I/O in JavaScript</span>

Deno's initial goal:
<span style="color: springgreen">+ Fast I/O in JavaScript</span>
  
  <i>Plus <a href="https://www.youtube.com/watch?v=M3BM9TB-8yA">"10 Things I Regret About Node"</a> improved:</i>

<span style="color: springgreen">+ Tight security
+ Modern APIs
+ Web compatibility
+ TypeScript
+ Modern tooling
+ ...</span>
</pre>

<pre>
<span style="color: dodgerblue"># Intro & History</span>

- <span style="color: lightgreen">Fast I/O</span>      : Should be at least as fast as Node, and it is!
- <span style="color: lightgreen">Tight security</span>: Should be secure by default
- <span style="color: lightgreen">Web compat</span>    : Code written for the browser should "just work"
- <span style="color: lightgreen">Modern APIs</span>   : Should leverage Promises, TypedArrays, etc.
- <span style="color: lightgreen">TypeScript</span>    : Should understand and run TypeScript
- <span style="color: lightgreen">Modern tooling</span>: Should bring a bundler, linter, formatter, etc.

=> Modern APIs and TypeScript didn't exist when Node was created
=> Can't break Node (too successful)
=> Instead, Ryan created a new, modern runtime
=> <a href="https://www.reddit.com/r/programming/comments/p9ymrw/comment/ha2mcra/">"Rewrite from scratch"</a>, according to Reddit
</pre>

<pre>
<span style="color: dodgerblue"># Deep-Dive & Features</span>

<span style="color: lightgreen">> Fast I/O</span>

- Written in <a href="https://www.rust-lang.org/">Rust</a>                        <span style="color: grey">// instead of <a href="https://isocpp.org/">C++</a></span>
- Uses <a href="https://v8.dev/">V8</a> for running JavaScript
- Uses <a href="https://tokio.rs">Tokio</a> for async I/O <span style="color: grey">            // instead of <a href="https://libuv.org/">libuv</a></span>
- Uses <a href="https://hyper.rs">hyper</a> for HTTP <span style="color: grey">                // instead of <a href="https://llhttp.org/">llhttp</a></span>
- <a href="https://deno.land/benchmarks">Benchmarks</a> show it's faster than Node for most workloads

<span style="color: grey">// When this talk was first written, <time datetime="2019"></time>,
// Node was still faster...</span>
</pre>

<pre>
<span style="color: dodgerblue"># Deep-Dive & Features</span>

<span style="color: lightgreen">> Tight security</span>
</pre>

<pre>
<span style="color: dodgerblue"># Deep-Dive & Features</span>

<span style="color: lightgreen">> Web compat: URL imports</span>
</pre>

<pre>
<span style="color: dodgerblue"># Deep-Dive & Features</span>

<span style="color: lightgreen">> Web compat: Web APIs</span>
</pre>

<pre>
<span style="color: dodgerblue"># Deep-Dive & Features</span>

<span style="color: lightgreen">> Modern APIs</span>
</pre>

<pre>
<span style="color: dodgerblue"># Deep-Dive & Features</span>

<span style="color: lightgreen">> TypeScript</span>
</pre>

<pre>
<span style="color: dodgerblue"># Deep-Dive & Features</span>

<span style="color: lightgreen">> Modern tooling</span>
</pre>

<pre style="margin-top: -12.5vh;">
<span style="color: dodgerblue"># Use-Cases</span>

- General-purpose scripting with type-safety
  - <a href="https://deno.land/manual#philosophy">"Replacement for utility scripts that may have been</a>
    <a href="https://deno.land/manual#philosophy">historically written with Bash or Python"</a>

- Libraries that should work both on the server and on the
  client without modification

- Web-related server applications
  - HTML rendering thanks to <a href="https://reactjs.org/docs/introducing-jsx.html">JSX</a> support
  - WebSocket servers thanks to <span style="color: lightskyblue">WebSocket</span> APIs
  - As a <a href="https://workers.js.org/">Worker Environment</a> or replacement for serverless 
    functions written in Node
    <span style="color: grey">// Examples: <a href="https://deno.com/deploy">Deno Deploy</a>, <a href="https://denoflare.dev/">Denoflare</a></span>

- Cross-platform CLI applications
  - Bundle code into executable using <span style="color: khaki">`deno compile`</span>
  - Use <span style="color: lightskyblue">localStorage</span> for storing data
  - Use FFI for native functionality

<span style="color: grey">// - Machine-learning using <span style="color: lightskyblue">WebGPU</span></span>
</pre>

<pre>
<span style="color: dodgerblue"># Ecosystem</span>
</pre>

<pre>
<span style="color: dodgerblue"># Open Source & Money</span>
</pre>

<pre>
<span style="color: lightskyblue">Deno</span>.<span style="color: khaki">exit</span>(<span style="color: lightgreen">0</span>);
</pre>

<!--

# features
	# URL imports
	# security
		- secure sandbox
		- but programmer laziness?
	# deno for web devs
		- MDN!
	# integrated dev tooling
	# single file download
		- "local deps" development without docker, DENO_DIR

# deno vs node
	- but backwards
	- healthy competition -> fetch collab
	- node + deno = <3

# good use-cases
	- WebSocket server
	- HTML rendering -> JSX
	- Scripting, but with type-safety -> Fast, excellent prototyping
	- Cross-platform apps: executable bundles, localStorage, FFI, etc.
	- Libs that need web-compat
	- Embedded use-cases

# ecosystem
	- hard to tell
	- definitely smaller, but can reuse existing code
	- CDNs (skypack.dev, esm.sh, jspm.io, etc.)
	- interop is okay
	- not sure about quality
	- don't trust deno.land/x

# open source and money
	- seed capital: https://deno.com/blog/the-deno-company
	- Open Source .com(pany) -> deploy
	- sponsor (2nd person)
	- nest.land -> money for downloads?

-->

<svg width="340" height="450" viewBox="0 0 340 450">
	<path d="M131.699 192.724C132.235 192.724 132.77 192.722 133.305 192.718C134.439 195.419 135.684 199.075 137.006 203.68C138.875 210.189 140.805 218.252 142.762 227.524C146.676 246.062 150.647 269.18 154.429 293.868C161.993 343.232 168.763 398.61 172.791 435.614L173.574 442.803L180.371 440.335L325.925 387.481L330.791 385.714L329.478 380.706L256.192 101.189L250.891 102.579L256.192 101.189C253.791 92.0291 249.844 83.2107 245.355 75.2315C228.751 36.3632 183.691 9.32432 131.699 9.32432C66.4026 9.32432 11.3243 52.3343 11.3243 107.771C11.3243 135.605 25.3985 157.097 47.514 171.39C69.4468 185.565 99.2876 192.724 131.699 192.724Z" fill="white" stroke="black" stroke-width="11.3514"/>
	<path d="M145.191 82.4723C152.644 82.4723 158.685 76.4309 158.685 68.9784C158.685 61.5258 152.644 55.4844 145.191 55.4844C137.739 55.4844 131.697 61.5258 131.697 68.9784C131.697 76.4309 137.739 82.4723 145.191 82.4723Z"/>
</svg>

<script>

let slides = document.querySelectorAll("pre");
let l = slides.length - 1;
let s = location.hash === "" ? 0 : parseInt(location.hash.slice(1));
slides[s].dataset.visible = "";

function slide(n) {
	delete slides[s].dataset.visible;
	s = n;
	if (n === 0) history.replaceState(null, "", location.href.replace(/#\d+/, ""));
	else location.hash = `#${n}`;
	slides[n].dataset.visible = "";
}

addEventListener("hashchange", () =>
	slide(parseInt(location.hash.slice(1))));

addEventListener("keyup", ({ key }) => { switch (key) {
	case "ArrowLeft": slide(s === 0 ? l : s - 1); break;
	case "ArrowRight": slide(s === l ? 0 : s + 1); break;
}});

let y = new Date().getFullYear();
for (let t of document.querySelectorAll("time")) {
	t.textContent = `${y - parseInt(t.dateTime)} years ago`;
}

</script>
